{"openapi":"3.1.0","info":{"title":"tLedger","version":"0.1.0"},"paths":{"/api/v1/payment":{"post":{"tags":["Payment"],"summary":"Create Payment","operationId":"Payment-create_payment","parameters":[{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}},{"name":"X-API-Secret","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Secret"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payment/{payment_id}":{"get":{"tags":["Payment"],"summary":"Get Payment","operationId":"Payment-get_payment","parameters":[{"name":"payment_id","in":"path","required":true,"schema":{"type":"string","title":"Payment Id"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}},{"name":"X-API-Secret","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Secret"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PaymentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/payments":{"get":{"tags":["Payment"],"summary":"Get Payments","operationId":"Payment-get_payments","parameters":[{"name":"receiving_agent_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by Receiving Agent ID","title":"Receiving Agent Id"},"description":"Filter by Receiving Agent ID"},{"name":"created_at_start","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start of Created At date range","default":"1970-01-01T00:00:00","title":"Created At Start"},"description":"Start of Created At date range"},{"name":"created_at_end","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"End of Created At date range","default":"2025-05-21T00:34:17.222903","title":"Created At End"},"description":"End of Created At date range"},{"name":"updated_at_start","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"Start of Updated At date range","default":"1970-01-01T00:00:00","title":"Updated At Start"},"description":"Start of Updated At date range"},{"name":"updated_at_end","in":"query","required":false,"schema":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"description":"End of Updated At date range","default":"2025-05-21T00:34:17.222945","title":"Updated At End"},"description":"End of Updated At date range"},{"name":"settlement_network","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by Settlement Network","title":"Settlement Network"},"description":"Filter by Settlement Network"},{"name":"status","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by Payment Status","title":"Status"},"description":"Filter by Payment Status"},{"name":"page_number","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Page number (starting from 1)","default":1,"title":"Page Number"},"description":"Page number (starting from 1)"},{"name":"page_size","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":100,"minimum":1},{"type":"null"}],"description":"Number of payments per page (max 100)","default":10,"title":"Page Size"},"description":"Number of payments per page (max 100)"},{"name":"order","in":"query","required":false,"schema":{"anyOf":[{"type":"string","pattern":"^(asc|desc)$"},{"type":"null"}],"description":"Order of results: 'asc' or 'desc'","default":"desc","title":"Order"},"description":"Order of results: 'asc' or 'desc'"},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}},{"name":"X-API-Secret","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Secret"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Payment-Get Payments"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/agent_profiles/{agent_id}":{"get":{"tags":["Agents"],"summary":"Get Agent By Id","operationId":"Agents-get_agent_by_id","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"string","title":"Agent Id"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}},{"name":"X-API-Secret","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Secret"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Agents"],"summary":"Delete Agent","operationId":"Agents-delete_agent","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"string","title":"Agent Id"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}},{"name":"X-API-Secret","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Secret"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Agents-Delete Agent"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/agent_profiles/":{"post":{"tags":["Agents"],"summary":"Onboard Agent","operationId":"Agents-onboard_agent","parameters":[{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}},{"name":"X-API-Secret","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Secret"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAgentRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/agent_profiles/{agent_id}/agent_limits/":{"post":{"tags":["Agents"],"summary":"Set Agent Limit","operationId":"Agents-set_agent_limit","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"string","title":"Agent Id"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}},{"name":"X-API-Secret","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Secret"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetAgentLimitRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetAgentLimitResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["Agents"],"summary":"Get Agent Limit","operationId":"Agents-get_agent_limit","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"string","title":"Agent Id"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}},{"name":"X-API-Secret","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Secret"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SetAgentLimitResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/":{"get":{"tags":["Projects"],"summary":"Get All Projects For User","operationId":"Projects-get_all_projects_for_user","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Projects"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["Projects"],"summary":"Onboard Project","operationId":"Projects-onboard_project","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateProjectRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/{project_id}":{"get":{"tags":["Projects"],"summary":"Get Project By Id","operationId":"Projects-get_project_by_id","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProjectBase"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Projects"],"summary":"Delete Project By Id","operationId":"Projects-delete_project_by_id","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeactivateProjectResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/projects/{project_id}/agents":{"get":{"tags":["Projects"],"summary":"Get Agents By Project","operationId":"Projects-get_agents_by_project","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}},{"name":"X-API-Secret","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Secret"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Agents"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/balance/agent/{agent_id}":{"get":{"tags":["Balances"],"summary":"Get Balance By Agent","description":"Get the total balance for an agent, converted to USD.\nIf the agent has multiple asset accounts, returns the sum of all balances in USD.\n\nArgs:\n    session: Database session\n    agent_id: The ID of the agent\n    api_key: API key for authentication\n    secret: API secret for authentication\n    request: FastAPI request object for rate limiting\n\nReturns:\n    AgentBalanceResponse: The total balance in USD and breakdown by asset","operationId":"Balances-get_balance_by_agent","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"string","title":"Agent Id"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}},{"name":"X-API-Secret","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Secret"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentBalanceResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/api_key/generate-api-key":{"post":{"tags":["ApiKey"],"summary":"Generate Api Key","operationId":"ApiKey-generate_api_key","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/api_key/scopes/all":{"get":{"tags":["ApiKey"],"summary":"Get All Possible Scopes","operationId":"ApiKey-get_all_possible_scopes","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Apikey-Get All Possible Scopes"}}}}}}},"/api/v1/api_key/{project_id}":{"get":{"tags":["ApiKey"],"summary":"Get Project Api Keys","description":"Get all API keys for a specific project\nRequires user authentication","operationId":"ApiKey-get_project_api_keys","parameters":[{"name":"project_id","in":"path","required":true,"schema":{"type":"string","title":"Project Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Apikey-Get Project Api Keys"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/api_key/scopes":{"get":{"tags":["ApiKey"],"summary":"Get Api Key Scopes For A Key","operationId":"ApiKey-get_api_key_scopes_for_a_key","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response Apikey-Get Api Key Scopes For A Key"}}}}},"security":[{"APIKeyHeader":[]}]}},"/api/v1/api_key/{api_key}":{"delete":{"tags":["ApiKey"],"summary":"Delete Api Key Endpoint","operationId":"ApiKey-delete_api_key_endpoint","parameters":[{"name":"api_key","in":"path","required":true,"schema":{"type":"string","title":"Api Key"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/account/{account_id}":{"get":{"tags":["Account"],"summary":"Get Account By Id","operationId":"Account-get_account_by_id","parameters":[{"name":"account_id","in":"path","required":true,"schema":{"type":"string","title":"Account Id"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}},{"name":"X-API-Secret","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Secret"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AssetAccountRead"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/":{"get":{"tags":["tLedger Portal User"],"summary":"Read Users","description":"Retrieve users.","operationId":"tLedger Portal User-read_users","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"skip","in":"query","required":false,"schema":{"type":"integer","default":0,"title":"Skip"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsersPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["tLedger Portal User"],"summary":"Create User","description":"Create new user.","operationId":"tLedger Portal User-create_user","security":[{"OAuth2PasswordBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me":{"get":{"tags":["tLedger Portal User"],"summary":"Read User Me","description":"Get current user.","operationId":"tLedger Portal User-read_user_me","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["tLedger Portal User"],"summary":"Delete User Me","description":"Delete own user.","operationId":"tLedger Portal User-delete_user_me","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/users/signup":{"post":{"tags":["tLedger Portal User"],"summary":"Register User","description":"Create new user without the need to be logged in.","operationId":"tLedger Portal User-register_user","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegister"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/verify-email":{"get":{"tags":["tLedger Portal User"],"summary":"Verify Email","description":"Verify user's email address using the verification token.","operationId":"tLedger Portal User-verify_email","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string","title":"Token"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/{user_id}":{"get":{"tags":["tLedger Portal User"],"summary":"Read User By Id","description":"Get a specific user by id.","operationId":"tLedger Portal User-read_user_by_id","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["tLedger Portal User"],"summary":"Delete User","description":"Delete a user.","operationId":"tLedger Portal User-delete_user","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Message"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/users/me/kyc":{"patch":{"tags":["tLedger Portal User"],"summary":"Update User Kyc","description":"Update or create KYC profile for current user.","operationId":"tLedger Portal User-update_user_kyc","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/KYCProfileUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/KYCProfile"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/login/access-token":{"post":{"tags":["tLedger Portal Login"],"summary":"Login Access Token","description":"OAuth2 compatible token login, get an access token for future requests","operationId":"tLedger Portal Login-login_access_token","requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_tLedger_Portal_Login-login_access_token"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Token"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/login/test-token":{"post":{"tags":["tLedger Portal Login"],"summary":"Test Token","description":"Test access token","operationId":"tLedger Portal Login-test_token","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPublic"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/api/v1/agent_details/search":{"get":{"tags":["Agent Details"],"summary":"Search Agents","description":"Search agents by name or description with pagination","operationId":"Agent Details-search_agents","parameters":[{"name":"search_term","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search term for agent name or description","title":"Search Term"},"description":"Search term for agent name or description"},{"name":"page_number","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":1},{"type":"null"}],"description":"Page number (starting from 1)","default":1,"title":"Page Number"},"description":"Page number (starting from 1)"},{"name":"page_size","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":100,"minimum":1},{"type":"null"}],"description":"Number of agents per page (max 100)","default":10,"title":"Page Size"},"description":"Number of agents per page (max 100)"},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}},{"name":"X-API-Secret","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Secret"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Agent Details-Search Agents"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/agent_details/{agent_id}":{"get":{"tags":["Agent Details"],"summary":"Get Agent Details","operationId":"Agent Details-get_agent_details","parameters":[{"name":"agent_id","in":"path","required":true,"schema":{"type":"string","title":"Agent Id"}},{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}},{"name":"X-API-Secret","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Secret"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentPublic"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/radar/audit":{"post":{"tags":["Radar"],"summary":"Audit Code","description":"Audit code quality\n\nThis endpoint allows developers to upload multiple agent core function names and code,\nand the system will audit the code quality of each function using LLM and provide scores and feedback.\n\nThe audit results will be saved to the database, including:\n- Function name\n- Function code\n- Code hash\n- Project ID\n- Audit score\n- Audit feedback\n- Timestamp\n\nValid API Key and Secret are required to use this endpoint.","operationId":"Radar-audit_code","parameters":[{"name":"X-API-Key","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Key"}},{"name":"X-API-Secret","in":"header","required":true,"schema":{"type":"string","title":"X-Api-Secret"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CodeAuditRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CodeAuditResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tportal/auth/google":{"get":{"tags":["Google Auth"],"summary":"Login With Google","operationId":"Google Auth-login_with_google","parameters":[{"name":"redirect_uri","in":"query","required":true,"schema":{"type":"string","description":"Where to redirect after login","title":"Redirect Uri"},"description":"Where to redirect after login"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/tportal/auth/google/callback":{"get":{"tags":["Google Auth"],"summary":"Google Callback","operationId":"Google Auth-google_callback","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/tportal/mock-redirect":{"get":{"tags":["Google Auth"],"summary":"Mock Redirect","operationId":"Google Auth-mock_redirect","parameters":[{"name":"accesstoken","in":"query","required":false,"schema":{"type":"string","title":"Accesstoken"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"APIKeyRequest":{"properties":{"scopes":{"items":{"type":"string"},"type":"array","title":"Scopes","description":"List of scopes required"},"resource_id":{"type":"string","title":"Resource Id","description":"Resource ID to create the API key for"},"created_by":{"type":"string","title":"Created By"}},"type":"object","required":["scopes","resource_id"],"title":"APIKeyRequest"},"Agent":{"properties":{"object":{"type":"string","title":"Object","default":"agent"},"id":{"type":"string","title":"Id","description":"Unique identifier for the agent"},"project_id":{"type":"string","title":"Project Id"},"name":{"type":"string","maxLength":255,"title":"Name","description":"Name of the agent"},"agent_description":{"type":"string","maxLength":255,"title":"Agent Description","description":"Agent description"},"agent_type":{"type":"string","title":"Agent Type","default":"autonomous_agent"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"The entity create timestamp"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"The entity update timestamp"},"daily_limit":{"type":"number","title":"Daily Limit","description":"Agent Daily Spending Limit","default":100},"project":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Project","description":"Project Url the agent is associated with"}},"type":"object","required":["id","project_id","name","agent_description","created_at","updated_at","project"],"title":"Agent"},"AgentBalanceResponse":{"properties":{"agent_id":{"type":"string","title":"Agent Id"},"total_balance_usd":{"type":"number","title":"Total Balance Usd","default":0},"balances_by_asset":{"additionalProperties":{"type":"number"},"type":"object","title":"Balances By Asset","default":{}},"usd_balances_by_asset":{"additionalProperties":{"type":"number"},"type":"object","title":"Usd Balances By Asset","default":{}}},"type":"object","required":["agent_id"],"title":"AgentBalanceResponse","description":"Response model for agent balance summary"},"AgentPublic":{"properties":{"agent":{"$ref":"#/components/schemas/Agent"},"account":{"items":{"$ref":"#/components/schemas/AssetAccountRead"},"type":"array","title":"Account"}},"type":"object","required":["agent","account"],"title":"AgentPublic"},"AgentResponse":{"properties":{"object":{"type":"string","title":"Object","default":"agent"},"id":{"type":"string","title":"Id","description":"Unique identifier for the agent"},"project_id":{"type":"string","maxLength":255,"title":"Project Id","description":"Project Identifier"},"name":{"type":"string","maxLength":255,"title":"Name","description":"Name of the agent"},"agent_description":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Agent Description","description":"What does the agent do?"},"agent_type":{"type":"string","title":"Agent Type","default":"autonomous_agent"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"The entity create timestamp"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"The entity update timestamp"},"daily_limit":{"type":"number","title":"Daily Limit","description":"Agent Daily Spending Limit","default":100},"account":{"items":{"$ref":"#/components/schemas/AssetAccountRead"},"type":"array","title":"Account","description":"Agent account balance information"}},"type":"object","required":["id","project_id","name","created_at","updated_at","account"],"title":"AgentResponse"},"Agents":{"properties":{"object":{"type":"string","title":"Object","default":"list"},"url":{"type":"string","title":"Url","default":"/api/v1/projects"},"has_more":{"type":"boolean","title":"Has More","default":false},"agents":{"items":{"$ref":"#/components/schemas/Agent"},"type":"array","title":"Agents"}},"type":"object","title":"Agents"},"AssetAccountRead":{"properties":{"object":{"type":"string","title":"Object","default":"account"},"id":{"type":"string","title":"Id"},"owner_id":{"type":"string","format":"uuid","title":"Owner Id"},"balance":{"type":"number","title":"Balance"},"asset":{"type":"string","title":"Asset"},"wallet_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Wallet Address"},"network":{"type":"string","title":"Network"},"is_testnet":{"type":"boolean","title":"Is Testnet"},"account_metadata":{"type":"string","title":"Account Metadata"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["id","owner_id","balance","asset","wallet_address","network","is_testnet","account_metadata","created_at","updated_at"],"title":"AssetAccountRead","description":"Model for reading an asset account."},"AuthProvider":{"type":"string","enum":["T54","Google"],"title":"AuthProvider"},"Body_tLedger_Portal_Login-login_access_token":{"properties":{"email":{"type":"string","title":"Email","description":"The user's email address"},"password":{"type":"string","title":"Password","description":"The user's password"},"scope":{"type":"string","title":"Scope","description":"OAuth2 scopes","default":""},"client_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Id","description":"Client ID"},"client_secret":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Client Secret","description":"Client Secret"}},"type":"object","required":["email","password"],"title":"Body_tLedger Portal Login-login_access_token"},"CodeAuditRequest":{"properties":{"functions":{"items":{"$ref":"#/components/schemas/FunctionInfo"},"type":"array","title":"Functions","description":"List of functions"},"project_id":{"type":"string","title":"Project Id","description":"Project ID"}},"type":"object","required":["functions","project_id"],"title":"CodeAuditRequest","description":"Request model for code audit"},"CodeAuditResponse":{"properties":{"status":{"type":"string","title":"Status","description":"Status"}},"type":"object","required":["status"],"title":"CodeAuditResponse","description":"Response model for code audit"},"CreateAgentRequest":{"properties":{"description":{"type":"string","maxLength":255,"title":"Description","description":"What does the agent do?"},"name":{"type":"string","maxLength":255,"title":"Name","description":"Name of the agent"},"agent_daily_limit":{"type":"number","title":"Agent Daily Limit","description":"Agent Daily Spending Limit","default":100},"project_id":{"type":"string","maxLength":255,"title":"Project Id","description":"Project Identifier"},"agent_type":{"type":"string","title":"Agent Type","default":"autonomous_agent"}},"type":"object","required":["description","name","project_id"],"title":"CreateAgentRequest"},"CreateProjectRequest":{"properties":{"description":{"type":"string","maxLength":100,"title":"Description","description":"Project Description"},"name":{"type":"string","maxLength":30,"title":"Name","description":"Project Name"},"daily_limit":{"type":"number","title":"Daily Limit"}},"type":"object","required":["description","name","daily_limit"],"title":"CreateProjectRequest"},"DeactivateProjectResponse":{"properties":{"project_id":{"type":"string","title":"Project Id"},"message":{"type":"string","maxLength":255,"title":"Message","default":"Project deactivated successfully"}},"type":"object","required":["project_id"],"title":"DeactivateProjectResponse"},"FunctionInfo":{"properties":{"function_name":{"type":"string","title":"Function Name","description":"Function name"},"function_code":{"type":"string","title":"Function Code","description":"Function code"}},"type":"object","required":["function_name","function_code"],"title":"FunctionInfo","description":"Function information model"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"KYCLevel":{"type":"string","enum":["unknown","low","medium","high","premium","trustworthy"],"title":"KYCLevel","description":"Enum for KYC verification levels"},"KYCProfile":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At","description":"The entity create timestamp","default":"2025-05-21T00:34:15.961745"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"The entity update timestamp","default":"2025-05-21T00:34:15.961802"},"id":{"type":"string","title":"Id","description":"Unique identifier for the KYC profile"},"user_id":{"type":"string","title":"User Id","description":"Reference to the user this KYC profile belongs to"},"kyc_level":{"$ref":"#/components/schemas/KYCLevel","description":"Current KYC verification level of the user","default":"unknown"},"kyc_status":{"$ref":"#/components/schemas/KYCStatus","description":"Current status of the KYC verification process","default":"not_started"},"verification_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Verification Date","description":"Date when the KYC verification was completed"},"expiry_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expiry Date","description":"Date when the KYC verification expires and needs renewal"},"is_active":{"type":"boolean","title":"Is Active","description":"Whether this KYC profile is currently active","default":true}},"type":"object","required":["user_id"],"title":"KYCProfile","description":"KYC profile for user verification and trust assessment"},"KYCProfileUpdate":{"properties":{"kyc_level":{"$ref":"#/components/schemas/KYCLevel"},"kyc_status":{"$ref":"#/components/schemas/KYCStatus"},"verification_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Verification Date"},"expiry_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expiry Date"},"is_active":{"type":"boolean","title":"Is Active","default":true}},"type":"object","required":["kyc_level","kyc_status"],"title":"KYCProfileUpdate","description":"Request model for updating KYC profile"},"KYCStatus":{"type":"string","enum":["not_started","in_progress","pending_review","verified","rejected","expired"],"title":"KYCStatus","description":"Enum for KYC verification status"},"LimitRefreshPeriod":{"type":"string","enum":["DAILY","WEEKLY"],"title":"LimitRefreshPeriod"},"Message":{"properties":{"message":{"type":"string","title":"Message"}},"type":"object","required":["message"],"title":"Message"},"PaymentRequest":{"properties":{"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id","description":"Optional request ID for idempotency. If not provided, one will be generated."},"sending_agent_id":{"type":"string","title":"Sending Agent Id","description":"Unique ID of the sending agent."},"receiving_agent_id":{"type":"string","title":"Receiving Agent Id","description":"Unique ID of the receiving agent."},"payment_amount":{"type":"number","exclusiveMinimum":0,"title":"Payment Amount","description":"The amount for the payment, must be positive."},"settlement_network":{"type":"string","title":"Settlement Network","description":"network used for settlement.","default":"solana"},"currency":{"type":"string","title":"Currency","description":"Currency used in the crypto bridge (e.g., USDT, USDC, BTC, ETH)."},"trace_context":{"type":"string","title":"Trace Context","description":"JSON string containing agent runtime environment state and parameters","default":"{}"},"func_stack_hashes":{"type":"string","title":"Func Stack Hashes","description":"JSON string containing the hashes of the functions in the call stack","default":"[]"},"debug_mode":{"type":"boolean","title":"Debug Mode","description":"Whether to enable debug mode for the payment, if true, the payment will be processed offline","default":false}},"type":"object","required":["sending_agent_id","receiving_agent_id","payment_amount","currency"],"title":"PaymentRequest"},"PaymentResponse":{"properties":{"object":{"type":"string","title":"Object","default":"payment"},"id":{"type":"string","title":"Id","description":"Unique ID for the payment."},"status":{"type":"string","title":"Status","description":"Current status of the payment."},"payment_amount":{"type":"number","exclusiveMinimum":0,"title":"Payment Amount","description":"The amount for the payment, must be positive."},"sending_agent_id":{"type":"string","title":"Sending Agent Id","description":"Unique ID of the sending agent."},"sending_agent_name":{"type":"string","title":"Sending Agent Name","description":"Name of the sending agent."},"receiving_agent_id":{"type":"string","title":"Receiving Agent Id","description":"Unique ID of the receiving agent."},"receiving_agent_name":{"type":"string","title":"Receiving Agent Name","description":"Name of the receiving agent."},"settlement_network":{"type":"string","title":"Settlement Network","description":"network used for settlement."},"currency":{"type":"string","title":"Currency","description":"Currency used in the crypto bridge (e.g., USDT, USDC, BTC, ETH)."},"transaction_fee":{"type":"number","minimum":0,"title":"Transaction Fee","description":"Transaction fee for the payment, must be non-negative."},"transaction_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transaction Hash","description":"Transaction hash for the payment on the network"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"The entity create timestamp"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"The entity update timestamp"},"request_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Request Id","description":"Unique ID to ensure idempotency for the payment."},"error_details":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Details","description":"Optional error details to indicate information about why the payment failed the payment failed"},"challenge":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Challenge","description":"Challenge request to the sender agent to resubmit the payment if the payment is rejected"},"risk_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Risk Level","description":"Risk level of the payment"},"debug_mode":{"type":"boolean","title":"Debug Mode","description":"Whether to enable debug mode for the payment, if true, the payment has been processed offline","default":false}},"type":"object","required":["id","status","payment_amount","sending_agent_id","sending_agent_name","receiving_agent_id","receiving_agent_name","settlement_network","currency","transaction_fee","transaction_hash","created_at","updated_at","request_id","error_details"],"title":"PaymentResponse"},"ProjectBase":{"properties":{"object":{"type":"string","title":"Object","default":"project"},"id":{"type":"string","title":"Id"},"name":{"type":"string","maxLength":255,"title":"Name","description":"Project Name"},"description":{"type":"string","maxLength":255,"title":"Description","description":"Project Description"},"daily_limit":{"type":"number","title":"Daily Limit"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"The entity create timestamp"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"The entity update timestamp"},"treasury_agent":{"anyOf":[{"$ref":"#/components/schemas/Agent"},{"type":"null"}]},"is_active":{"type":"boolean","title":"Is Active","default":true}},"type":"object","required":["id","name","description","daily_limit","created_at","updated_at","treasury_agent"],"title":"ProjectBase"},"ProjectResponse":{"properties":{"object":{"type":"string","title":"Object","default":"project"},"id":{"type":"string","title":"Id"},"name":{"type":"string","maxLength":30,"title":"Name","description":"Project Name"},"description":{"type":"string","maxLength":100,"title":"Description","description":"Project Description"},"daily_limit":{"type":"number","title":"Daily Limit"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"The entity create timestamp"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"The entity update timestamp"},"agents":{"items":{"$ref":"#/components/schemas/Agent"},"type":"array","title":"Agents"},"treasury_agent":{"anyOf":[{"$ref":"#/components/schemas/Agent"},{"type":"null"}]},"is_active":{"type":"boolean","title":"Is Active","default":true}},"type":"object","required":["id","name","description","daily_limit","created_at","updated_at","agents","treasury_agent"],"title":"ProjectResponse"},"Projects":{"properties":{"object":{"type":"string","title":"Object","default":"list"},"url":{"type":"string","title":"Url","default":"/api/v1/projects"},"has_more":{"type":"boolean","title":"Has More","default":false},"data":{"items":{"$ref":"#/components/schemas/ProjectBase"},"type":"array","title":"Data"}},"type":"object","title":"Projects"},"SetAgentLimitRequest":{"properties":{"limit_amount":{"type":"number","title":"Limit Amount"},"limit_currency":{"type":"string","maxLength":50,"title":"Limit Currency","description":"Currency in which limit should be imposed"},"limit_refresh_period":{"$ref":"#/components/schemas/LimitRefreshPeriod"}},"type":"object","required":["limit_amount","limit_currency","limit_refresh_period"],"title":"SetAgentLimitRequest"},"SetAgentLimitResponse":{"properties":{"agent_id":{"type":"string","format":"uuid","title":"Agent Id"},"limit_amount":{"type":"number","title":"Limit Amount"},"limit_currency":{"type":"string","maxLength":50,"title":"Limit Currency"},"limit_refresh_period":{"$ref":"#/components/schemas/LimitRefreshPeriod"},"limit_remaining":{"type":"number","title":"Limit Remaining"},"limit_refresh_timestamp":{"type":"string","format":"date-time","title":"Limit Refresh Timestamp","description":"The timestamp when the limit refreshes"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"The entity update timestamp"}},"type":"object","required":["agent_id","limit_amount","limit_currency","limit_refresh_period","limit_remaining","limit_refresh_timestamp","updated_at"],"title":"SetAgentLimitResponse"},"Token":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type","default":"bearer"}},"type":"object","required":["access_token"],"title":"Token"},"UserCreate":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At","description":"The entity create timestamp","default":"2025-05-21T00:34:15.961745"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"The entity update timestamp","default":"2025-05-21T00:34:15.961802"},"email":{"type":"string","maxLength":255,"format":"email","title":"Email"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"full_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Full Name"},"role":{"type":"string","maxLength":100,"title":"Role","default":"developer"},"auth_provider":{"$ref":"#/components/schemas/AuthProvider","default":"T54"},"password":{"anyOf":[{"type":"string","maxLength":40,"minLength":8},{"type":"null"}],"title":"Password"}},"type":"object","required":["email"],"title":"UserCreate"},"UserPublic":{"properties":{"created_at":{"type":"string","format":"date-time","title":"Created At","description":"The entity create timestamp","default":"2025-05-21T00:34:15.961745"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"The entity update timestamp","default":"2025-05-21T00:34:15.961802"},"email":{"type":"string","maxLength":255,"format":"email","title":"Email"},"is_active":{"type":"boolean","title":"Is Active","default":true},"is_superuser":{"type":"boolean","title":"Is Superuser","default":false},"full_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Full Name"},"role":{"type":"string","maxLength":100,"title":"Role","default":"developer"},"auth_provider":{"$ref":"#/components/schemas/AuthProvider","default":"T54"},"id":{"type":"string","title":"Id"}},"type":"object","required":["email","id"],"title":"UserPublic"},"UserRegister":{"properties":{"email":{"type":"string","maxLength":255,"format":"email","title":"Email"},"password":{"type":"string","maxLength":40,"minLength":8,"title":"Password"},"full_name":{"anyOf":[{"type":"string","maxLength":255},{"type":"null"}],"title":"Full Name"}},"type":"object","required":["email","password"],"title":"UserRegister"},"UsersPublic":{"properties":{"data":{"items":{"$ref":"#/components/schemas/UserPublic"},"type":"array","title":"Data"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["data","count"],"title":"UsersPublic"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/api/v1/login/access-token"}}},"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-API-Key"}}}}